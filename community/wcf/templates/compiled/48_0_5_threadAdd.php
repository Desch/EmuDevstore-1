<?php
/**
* WoltLab Community Framework
* Template: threadAdd
* Compiled at: Tue, 13 Aug 2013 11:30:42 +0000
* 
* DO NOT EDIT THIS FILE
*/
$this->v['tpl']['template'] = 'threadAdd';
?>
<?php
if (!isset($this->pluginObjects['TemplatePluginFunctionCounter'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginFunctionCounter.class.php');
$this->pluginObjects['TemplatePluginFunctionCounter'] = new TemplatePluginFunctionCounter;
}
if (!isset($this->pluginObjects['TemplatePluginFunctionHtmloptions'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginFunctionHtmloptions.class.php');
$this->pluginObjects['TemplatePluginFunctionHtmloptions'] = new TemplatePluginFunctionHtmloptions;
}
?><?php
$outerTemplateNamedc078d7926c58bd728735541859084fd3569dd13 = $this->v['tpl']['template'];
$this->includeTemplate("documentHeader", array(), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateNamedc078d7926c58bd728735541859084fd3569dd13;
$this->v['tpl']['includedTemplates']["documentHeader"] = 1;
?>
<head>
	<title>Neues Thema erstellen - <?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_langb4bb43e0e05ddeffa70930a90a6c2ece2c2288c2 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langb4bb43e0e05ddeffa70930a90a6c2ece2c2288c2, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?> - <?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML(PAGE_TITLE); ?><?php $_langee5d3c7fbeefc237e0ca3d2fb7fe44254b56893e = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langee5d3c7fbeefc237e0ca3d2fb7fe44254b56893e, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></title>

	<?php
$outerTemplateName31515470dd41479dbf83ef566ce3babcf992f74a = $this->v['tpl']['template'];
$this->includeTemplate('headInclude', array(), (false ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName31515470dd41479dbf83ef566ce3babcf992f74a;
$this->v['tpl']['includedTemplates']['headInclude'] = 1;
?>
	
	<?php
$outerTemplateName12d639b213428c67c950abf348cd3cdb6e8a81ab = $this->v['tpl']['template'];
$this->includeTemplate('imageViewer', array(), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName12d639b213428c67c950abf348cd3cdb6e8a81ab;
$this->v['tpl']['includedTemplates']['imageViewer'] = 1;
?>
	
	<script type="text/javascript" src="<?php echo RELATIVE_WCF_DIR; ?>js/TabbedPane.class.js"></script>
	<script type="text/javascript">
		//<![CDATA[
		var INLINE_IMAGE_MAX_WIDTH = <?php echo INLINE_IMAGE_MAX_WIDTH; ?>; 
		//]]>
	</script>
	<script type="text/javascript" src="<?php echo RELATIVE_WCF_DIR; ?>js/ImageResizer.class.js"></script>
	<?php if ($this->v['canUseBBCodes']) { ?><?php
$outerTemplateNamec5d1032548b031a8b0f7d92091b83bc7be7cf812 = $this->v['tpl']['template'];
$this->includeTemplate("wysiwyg", array(), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateNamec5d1032548b031a8b0f7d92091b83bc7be7cf812;
$this->v['tpl']['includedTemplates']["wysiwyg"] = 1;
?><?php } ?>
</head>
<body<?php if (isset($this->v['templateName'])) { ?> id="tpl<?php echo StringUtil::encodeHTML(ucfirst($this->v['templateName'])); ?>"<?php } ?>>
<?php
$outerTemplateName1907f08ddf0b791843dedf45a5c98afbe8c3b84a = $this->v['tpl']['template'];
$this->includeTemplate('header', array(), (false ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName1907f08ddf0b791843dedf45a5c98afbe8c3b84a;
$this->v['tpl']['includedTemplates']['header'] = 1;
?>

<div id="main">
	
	<?php
$outerTemplateName002fb0693ede21698dda0fff82a78ae7fd520d07 = $this->v['tpl']['template'];
$this->includeTemplate("navigation", array('showBoard' => true), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName002fb0693ede21698dda0fff82a78ae7fd520d07;
$this->v['tpl']['includedTemplates']["navigation"] = 1;
?>
	
	<div class="mainHeadline">
		<img src="<?php echo StyleManager::getStyle()->getIconPath('threadNewL.png'); ?>" alt="" />
		<div class="headlineContainer">
			<h2>Neues Thema erstellen</h2>
		</div>
	</div>
	
	<?php if (isset($this->v['userMessages'])) { ?><?php echo $this->v['userMessages']; ?><?php } ?>
	
	<?php if ($this->v['errorField']) { ?>
		<p class="error">Ihre Angaben sind ungültig. Bitte überprüfen Sie die markierten Eingabefelder.</p>
	<?php } ?>
	
	<?php if (isset($this->v['preview'])) { ?>
		<div class="border messagePreview">
			<div class="containerHead">
				<h3>Vorschau der neuen Nachricht</h3>
			</div>
			<div class="message content">
				<div class="messageInner container-1">
					<?php if ($this->v['subject']) { ?>
						<h4><?php echo StringUtil::encodeHTML($this->v['subject']); ?></h4>
					<?php } ?>
					<div class="messageBody">
						<div><?php echo $this->v['preview']; ?></div>
					</div>
				</div>
			</div>
		</div>
	<?php } ?>
	
	<form enctype="multipart/form-data" method="post" action="index.php?form=ThreadAdd&amp;boardID=<?php echo $this->v['board']->boardID; ?>">
		<div class="border content">
			<div class="container-1">
	
				<?php if ($this->v['board']->getModeratorPermission('canPinThread') || $this->v['board']->getModeratorPermission('canStartAnnouncement')) { ?>
					<fieldset>
						<legend>Themenstatus</legend>
						
						<div class="formGroup">
							<div class="formGroupLabel">
								Status
							</div>
							<div class="formGroupField">
								<fieldset>
									<legend>Status</legend>
									<div class="formField">
										<ul class="formOptions">
											<li><label><input onclick="openList('boards', { setVisible: false })" type="radio" name="isImportant" value="0" <?php if ($this->v['isImportant'] == 0) { ?>checked="checked" <?php } ?>tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" /> <img src="<?php echo StyleManager::getStyle()->getIconPath('threadM.png'); ?>" alt="" /> Normal</label></li>
											<?php if ($this->v['board']->getModeratorPermission('canPinThread')) { ?><li><label><input onclick="openList('boards', { setVisible: false })" type="radio" name="isImportant" value="1" <?php if ($this->v['isImportant'] == 1) { ?>checked="checked" <?php } ?>tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" /> <img src="<?php echo StyleManager::getStyle()->getIconPath('threadImportantM.png'); ?>" alt="" /> wichtig</label></li><?php } ?>
											<?php if ($this->v['board']->getModeratorPermission('canStartAnnouncement')) { ?><li><label><input onclick="openList('boards', { setVisible: true })" type="radio" name="isImportant" value="2" <?php if ($this->v['isImportant'] == 2) { ?>checked="checked" <?php } ?>tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" /> <img src="<?php echo StyleManager::getStyle()->getIconPath('threadAnnouncementM.png'); ?>" alt="" /> Ankündigung</label></li><?php } ?>
										</ul>
									</div>
								</fieldset>
							</div>
						</div>
						
						<?php if ($this->v['board']->getModeratorPermission('canStartAnnouncement')) { ?>
							<?php if ($this->v['isImportant'] != 2) { ?>
								<script type="text/javascript">
									//<![CDATA[
									onloadEvents.push(function() { document.getElementById('boards').style.display = 'none'; });
									//]]>
								</script>
							<?php } ?>
							<div id="boards" class="formElement">
								<div class="formFieldLabel">
									<label>Foren für diese Ankündigung</label>
								</div>
								<div class="formField longSelect">
									<select name="boardIDs[]" id="boardIDs" multiple="multiple" size="10" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>">
										<?php echo $this->pluginObjects['TemplatePluginFunctionHtmloptions']->execute(array('options' => $this->v['boardOptions'], 'selected' => $this->v['boardIDs'], 'disableEncoding' => true), $this); ?>
									</select>
								</div>
								<div class="formFieldDesc">
									<p>Geben Sie an, in welchen Foren die Ankündigung angezeigt werden soll. Die Ankündigung wird automatisch mit dem Forum verknüpft, in dem sie erstellt wurde.</p>
									<p>Mehrfache Markierungen sind durch zusätzliches Drücken der Taste &raquo;Strg/Ctrl&laquo; (Windows) oder &raquo;Befehl/Command&laquo; (Mac OS) möglich.</p>
								</div>
							</div>
						<?php } ?>
					</fieldset>
				<?php } ?>
					
				<fieldset>
					<legend>Beitragsinformationen</legend>
					
					<?php if (count($this->v['availableLanguages']) > 1) { ?>
						<div class="formElement">
							<div class="formFieldLabel">
								<label for="languageID">Sprache</label>
							</div>
							<div class="formField">
								<select name="languageID" id="languageID" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>">
									<?php
if (count($this->v['availableLanguages']) > 0) {
foreach ($this->v['availableLanguages'] as $this->v['availableLanguage']) {
?>
									<option value="<?php echo $this->v['availableLanguage']['languageID']; ?>"
										<?php if ($this->v['availableLanguage']['languageID'] == $this->v['languageID']) { ?> selected="selected"<?php } ?>><?php $this->tagStack[] = array('lang', array()); ob_start(); ?>wcf.global.language.<?php echo $this->v['availableLanguage']['languageCode']; ?><?php $_lang43adbc670db66c2047573a403e53efc54082246a = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang43adbc670db66c2047573a403e53efc54082246a, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></option>
									<?php } } ?>
								</select>
							</div>
						</div>
					<?php } ?>
					
					<?php if ($this->v['board']->hasPrefixes() && $this->v['board']->getPermission('canUsePrefix')) { ?>
						<div class="formElement<?php if ($this->v['errorField'] == 'prefix') { ?> formError<?php } ?>">
							<div class="formFieldLabel">
								<label for="prefix">Präfix</label>
							</div>
							<div class="formField">
								<select name="prefix" id="prefix" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>">
									<option value=""></option>
									<?php echo $this->pluginObjects['TemplatePluginFunctionHtmloptions']->execute(array('options' => $this->v['board']->getPrefixOptions(), 'selected' => $this->v['prefix']), $this); ?>
								</select>
								<?php if ($this->v['errorField'] == 'prefix') { ?>
									<p class="innerError">
										<?php if ($this->v['errorType'] == 'empty') { ?>Bitte wählen Sie einen Präfix aus!<?php } ?>
										<?php if ($this->v['errorType'] == 'invalid') { ?>Sie haben einen ungültigen Präfix ausgewählt.<?php } ?>
									</p>
								<?php } ?>
							</div>
						</div>
					<?php } ?>
					
					<?php if ( ! $this->v['this']->user->userID) { ?>
						<div class="formElement<?php if ($this->v['errorField'] == 'username') { ?> formError<?php } ?>">
							<div class="formFieldLabel">
								<label for="username">Benutzername</label>
							</div>
							<div class="formField">
								<input type="text" class="inputText" name="username" id="username" value="<?php echo StringUtil::encodeHTML($this->v['username']); ?>" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" />
								<?php if ($this->v['errorField'] == 'username') { ?>
									<p class="innerError">
										<?php if ($this->v['errorType'] == 'empty') { ?>Bitte füllen Sie dieses Eingabefeld aus.<?php } ?>
										<?php if ($this->v['errorType'] == 'notValid') { ?>Sie haben einen ungültigen Benutzernamen eingegeben.<?php } ?>
										<?php if ($this->v['errorType'] == 'notAvailable') { ?>Dieser Benutzername ist bereits vergeben.<?php } ?>
									</p>
								<?php } ?>
							</div>
						</div>
					<?php } ?>
					
					<div class="formElement<?php if ($this->v['errorField'] == 'subject') { ?> formError<?php } ?>">
						<div class="formFieldLabel">
							<label for="subject">Überschrift</label>
						</div>
						<div class="formField">
							<input type="text" class="inputText" name="subject" id="subject" value="<?php echo StringUtil::encodeHTML($this->v['subject']); ?>" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" />
							<?php if ($this->v['errorField'] == 'subject') { ?>
								<p class="innerError">
									<?php if ($this->v['errorType'] == 'empty') { ?>Bitte füllen Sie dieses Eingabefeld aus.<?php } ?>
								</p>
							<?php } ?>
						</div>
					</div>
					
					<?php if (MODULE_TAGGING && THREAD_ENABLE_TAGS && $this->v['board']->getPermission('canSetTags')) { ?><?php
$outerTemplateNamefdaff2b85540cffd76379e4f72ae938c79e9a455 = $this->v['tpl']['template'];
$this->includeTemplate('tagAddBit', array(), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateNamefdaff2b85540cffd76379e4f72ae938c79e9a455;
$this->v['tpl']['includedTemplates']['tagAddBit'] = 1;
?><?php } ?>
					
					<?php if (isset($this->v['additionalInformationFields'])) { ?><?php echo $this->v['additionalInformationFields']; ?><?php } ?>
				</fieldset>
				
				<fieldset>
					<legend>Beitrag</legend>
					
					<div class="editorFrame formElement<?php if ($this->v['errorField'] == 'text') { ?> formError<?php } ?>" id="textDiv">
	
						<div class="formFieldLabel">
							<label for="text">Beitrag</label>
						</div>
						
						<div class="formField">				
							<textarea name="text" id="text" rows="15" cols="40" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>"><?php echo StringUtil::encodeHTML($this->v['text']); ?></textarea>
							<?php if ($this->v['errorField'] == 'text') { ?>
								<p class="innerError">
									<?php if ($this->v['errorType'] == 'empty') { ?>Bitte füllen Sie dieses Eingabefeld aus.<?php } ?>
									<?php if ($this->v['errorType'] == 'tooLong') { ?>Ihre Nachricht ist zu lang. Es stehen maximal <?php echo StringUtil::formatNumeric($this->v['maxTextLength']); ?> Zeichen zur Verfügung.<?php } ?>
									<?php if ($this->v['errorType'] == 'censoredWordsFound') { ?>Ihre Nachricht enthält folgende zensierte Wörter: <?php
$_length12545ae4e18f80979a178a2fc9a63aa6476cac7e = count($this->v['censoredWords']);
$_i12545ae4e18f80979a178a2fc9a63aa6476cac7e = 0;
foreach ($this->v['censoredWords'] as $this->v['censoredWord'] => $this->v['number']) { ?><?php echo StringUtil::encodeHTML($this->v['censoredWord']); ?><?php if ($this->v['number'] > 1) { ?> (<?php echo StringUtil::formatNumeric($this->v['number']); ?>x)<?php } ?><?php
if (++$_i12545ae4e18f80979a178a2fc9a63aa6476cac7e < $_length12545ae4e18f80979a178a2fc9a63aa6476cac7e) { echo ', '; }
} ?><?php } ?>
									<?php if ($this->v['errorType'] == 'tooShort') { ?>Der Beitrag ist zu kurz. Der Beitrag muss mindestens <?php echo StringUtil::formatNumeric($this->v['minCharLength']); ?> Zeichen lang sein und <?php echo StringUtil::formatNumeric($this->v['minWordCount']); ?> <?php if ($this->v['minWordCount'] == 1) { ?>Wort<?php } else { ?>Wörter<?php } ?> enthalten.<?php } ?>
								</p>
							<?php } ?>
						</div>
						
					</div>
					
					<?php
$outerTemplateNameff8db81cc0f3937eae587a867f051f38bc74767b = $this->v['tpl']['template'];
ob_start();
$this->includeTemplate('postFormSettings', array(), (1 ? 1 : 0));
$this->append('additionalSettings', ob_get_contents()); ob_end_clean();
$this->v['tpl']['template'] = $outerTemplateNameff8db81cc0f3937eae587a867f051f38bc74767b;
$this->v['tpl']['includedTemplates']['postFormSettings'] = 1;
?>
					<?php
$outerTemplateName3b32365c5458626be11a23874c22d8dda0c2ca6c = $this->v['tpl']['template'];
$this->includeTemplate('messageFormTabs', array(), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName3b32365c5458626be11a23874c22d8dda0c2ca6c;
$this->v['tpl']['includedTemplates']['messageFormTabs'] = 1;
?>
					
				</fieldset>
				
				<?php
$outerTemplateName56cc2e8c51002a2fd8f1823df61b316c3e728049 = $this->v['tpl']['template'];
$this->includeTemplate('captcha', array(), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName56cc2e8c51002a2fd8f1823df61b316c3e728049;
$this->v['tpl']['includedTemplates']['captcha'] = 1;
?>
				<?php if (isset($this->v['additionalFields'])) { ?><?php echo $this->v['additionalFields']; ?><?php } ?>
			</div>
		</div>
		
		<div class="formSubmit">
			<input type="submit" name="send" accesskey="s" value="Absenden" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" />
			<input type="submit" name="preview" accesskey="p" value="Vorschau" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" />
			<input type="reset" name="reset" accesskey="r" value="Zurücksetzen" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" />
			<?php echo SID_INPUT_TAG; ?>
			<input type="hidden" name="idHash" value="<?php echo StringUtil::encodeHTML($this->v['idHash']); ?>" />
		</div>
	</form>

</div>

<?php
$outerTemplateName5d9cbb87924b9008ea9c8d577eae388719c5ae25 = $this->v['tpl']['template'];
$this->includeTemplate('footer', array(), (false ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName5d9cbb87924b9008ea9c8d577eae388719c5ae25;
$this->v['tpl']['includedTemplates']['footer'] = 1;
?>
</body>
</html>