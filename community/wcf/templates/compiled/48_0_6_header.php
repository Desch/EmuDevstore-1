<?php
/**
* WoltLab Community Framework
* Template: header
* Compiled at: Tue, 13 Aug 2013 11:36:41 +0000
* 
* DO NOT EDIT THIS FILE
*/
$this->v['tpl']['template'] = 'header';
?>
<?php
if (!isset($this->pluginObjects['TemplatePluginFunctionCounter'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginFunctionCounter.class.php');
$this->pluginObjects['TemplatePluginFunctionCounter'] = new TemplatePluginFunctionCounter;
}
if (!isset($this->pluginObjects['TemplatePluginFunctionHtmloptions'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginFunctionHtmloptions.class.php');
$this->pluginObjects['TemplatePluginFunctionHtmloptions'] = new TemplatePluginFunctionHtmloptions;
}
if (!isset($this->pluginObjects['TemplatePluginModifierShorttime'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginModifierShorttime.class.php');
$this->pluginObjects['TemplatePluginModifierShorttime'] = new TemplatePluginModifierShorttime;
}
if (!isset($this->pluginObjects['TemplatePluginModifierConcat'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginModifierConcat.class.php');
$this->pluginObjects['TemplatePluginModifierConcat'] = new TemplatePluginModifierConcat;
}
if (!isset($this->pluginObjects['TemplatePluginModifierTime'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginModifierTime.class.php');
$this->pluginObjects['TemplatePluginModifierTime'] = new TemplatePluginModifierTime;
}
if (!isset($this->pluginObjects['TemplatePluginModifierNewlinetobreak'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginModifierNewlinetobreak.class.php');
$this->pluginObjects['TemplatePluginModifierNewlinetobreak'] = new TemplatePluginModifierNewlinetobreak;
}
?><?php if ( ! $this->v['this']->user->userID &&  ! LOGIN_USE_CAPTCHA) { ?>
	<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex', 'start' => 4, 'print' => false), $this); ?>
<?php } else { ?>
	<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex', 'start' => 0, 'print' => false), $this); ?>
<?php } ?>

<div id="headerContainer">
	<a id="top"></a>
	<div id="userPanel" class="userPanel">
		<div class="userPanelInner">
			<p style="display: none;" id="userAvatar">
				<?php if ($this->v['this']->user->userID && $this->v['this']->user->getAvatar()) { ?><a href="index.php?page=User&amp;userID=<?php echo $this->v['this']->user->userID; ?><?php echo SID_ARG_2ND; ?>"><?php echo $this->v['this']->user->getAvatar(); ?></a><?php } else { ?><img src="<?php echo RELATIVE_WCF_DIR; ?>images/avatars/avatar-default.png" alt="" /><?php } ?>
			</p>
			<p id="userNote">
				<?php if ($this->v['this']->user->userID != 0) { ?>Welcome <a href="index.php?page=User&amp;userID=<?php echo $this->v['this']->user->userID; ?><?php echo SID_ARG_2ND; ?>"><?php echo StringUtil::encodeHTML($this->v['this']->user->username); ?></a>.<?php } else { ?>You are not logged in.<?php } ?>
			</p>
			<div id="userMenu">
				<ul>
					<?php if ($this->v['this']->user->userID != 0) { ?>
						<li id="userMenuLogout"><a href="index.php?action=UserLogout&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('logoutS.png'); ?>" alt="" /> <span>Logout</span></a></li>
						<li id="userMenuProfileEdit"><a href="index.php?form=UserProfileEdit<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('editS.png'); ?>" alt="" /> <span>Edit Profile</span></a></li>
						<?php if (MODULE_PM == 1 && $this->v['this']->user->getPermission('user.pm.canUsePm')) { ?>
							<li <?php if ($this->v['this']->user->pmUnreadCount) { ?> class="new"<?php } ?> id="userMenuPm"><a href="index.php?page=PMList<?php echo SID_ARG_2ND; ?>"><img src="<?php ob_start(); ?>pm<?php if ($this->v['this']->user->pmUnreadCount) { ?>Full<?php } else { ?>Empty<?php } ?>S.png<?php $_icon49d87a371fd2de76d6096ff33fdf7a6a086f4e8f = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icon49d87a371fd2de76d6096ff33fdf7a6a086f4e8f); ?>" alt="" /> <span>Private Messages<?php if ($this->v['this']->user->pmUnreadCount) { ?> (<?php echo StringUtil::formatNumeric($this->v['this']->user->pmUnreadCount); ?>)<?php } ?></span></a><?php if ($this->v['this']->user->pmTotalCount >= $this->v['this']->user->getPermission('user.pm.maxPm')) { ?> <span class="pmBoxFull">(Mail box full)</span><?php } ?></li>
						<?php } ?>
						<?php if ($this->v['this']->user->hasSubscriptions()) { ?>
							<li<?php if ($this->v['this']->user->getSubscriptionsUnreadCount()) { ?> class="new"<?php } ?> id="userMenuSubscriptions"><a href="index.php?page=SubscriptionsList<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('subscriptionsS.png'); ?>" alt="" /> <span>Favorites<?php if ($this->v['this']->user->getSubscriptionsUnreadCount()) { ?> (<?php echo StringUtil::formatNumeric($this->v['this']->user->getSubscriptionsUnreadCount()); ?>)<?php } ?></span></a></li>
						<?php } ?>

						<?php if (isset($this->v['additionalUserMenuItems'])) { ?><?php echo $this->v['additionalUserMenuItems']; ?><?php } ?>

						<?php if ($this->v['this']->user->isGroupLeader()) { ?>
							<li id="userMenuGroupManagement"<?php if ($this->v['this']->user->getOutstandingGroupApplications()) { ?> class="new"<?php } ?>><a href="index.php?page=UserGroupLeader<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('groupLeaderS.png'); ?>" alt="" /> <span>Group Leader<?php if ($this->v['this']->user->getOutstandingGroupApplications()) { ?> (<?php echo StringUtil::formatNumeric($this->v['this']->user->getOutstandingGroupApplications()); ?>)<?php } ?></span></a></li>
						<?php } ?>
						<?php if ($this->v['this']->user->isModerator()) { ?>
							<li id="userMenuModeration"<?php if ($this->v['this']->user->getOutstandingModerations()) { ?> class="new"<?php } ?>><a href="index.php?page=ModerationOverview<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('moderatorS.png'); ?>" alt="" /> <span>Moderation<?php if ($this->v['this']->user->getOutstandingModerations()) { ?> (<?php echo StringUtil::formatNumeric($this->v['this']->user->getOutstandingModerations()); ?>)<?php } ?></span></a></li>
						<?php } ?>
						<?php if ($this->v['this']->user->getPermission('admin.general.canUseAcp')) { ?>
							<li id="userMenuACP"><a href="acp/index.php?packageID=<?php echo PACKAGE_ID; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('acpS.png'); ?>" alt="" /> <span>Administration</span></a></li>
						<?php } ?>
					<?php } else { ?>
						<li id="userMenuLogin" class="options"><a href="index.php?form=UserLogin<?php echo SID_ARG_2ND; ?>" id="loginButton"><img src="<?php echo StyleManager::getStyle()->getIconPath('loginS.png'); ?>" alt="" id="loginButtonImage" /> <span>Login</span></a></li>

						<?php if ( ! REGISTER_DISABLED) { ?><li id="userMenuRegistration"><a href="index.php?page=Register<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('registerS.png'); ?>" alt="" /> <span>Register</span></a></li><?php } ?>

						<?php if (isset($this->v['additionalUserMenuItems'])) { ?><?php echo $this->v['additionalUserMenuItems']; ?><?php } ?>

						<?php if ($this->v['this']->language->countAvailableLanguages() > 1) { ?>
							<li id="userMenuLanguage" class="languagePicker options"><a id="changeLanguage" class="hidden"><img src="<?php ob_start(); ?>language<?php echo ucfirst($this->v['this']->language->getLanguageCode()); ?>S.png<?php $_icon00a49b2ba9ab81db018cf746158d837699049da0 = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icon00a49b2ba9ab81db018cf746158d837699049da0); ?>" alt="" /> <span>Change Language</span></a>
								<div class="hidden" id="changeLanguageMenu">
									<ul>
										<?php
if (count($this->v['this']->language->getAvailableLanguageCodes()) > 0) {
foreach ($this->v['this']->language->getAvailableLanguageCodes() as $this->v['guestLanguageID'] => $this->v['guestLanguageCode']) {
?>
											<li<?php if ($this->v['guestLanguageID'] == $this->v['this']->language->getLanguageID()) { ?> class="active"<?php } ?>><a rel="nofollow" href="<?php if ($this->v['this']->session->requestURI && $this->v['this']->session->requestMethod == 'GET') { ?><?php echo StringUtil::encodeHTML($this->v['this']->session->requestURI); ?><?php if (strpos($this->v['this']->session->requestURI,'?')) { ?>&amp;<?php } else { ?>?<?php } ?><?php } else { ?>index.php?<?php } ?>l=<?php echo StringUtil::encodeHTML($this->v['guestLanguageID']); ?><?php echo SID_ARG_2ND; ?>"><img src="<?php ob_start(); ?>language<?php echo ucfirst($this->v['guestLanguageCode']); ?>S.png<?php $_icon51848c06c567c5e86a7a6d56bcaf7e53382dbb0e = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icon51848c06c567c5e86a7a6d56bcaf7e53382dbb0e); ?>" alt="" /> <span><?php $this->tagStack[] = array('lang', array()); ob_start(); ?>wcf.global.language.<?php echo $this->v['guestLanguageCode']; ?><?php $_lang28de650a201e1071d184b809c57b39dc872e5f91 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang28de650a201e1071d184b809c57b39dc872e5f91, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></span></a></li>
										<?php } } ?>
									</ul>
								</div>
								<script type="text/javascript">
									//<![CDATA[
									onloadEvents.push(function() { document.getElementById('changeLanguage').className=''; });
									popupMenuList.register('changeLanguage');
									//]]>
								</script>
								<noscript>
									<form method="get" action="index.php">
										<div>
											<label><img src="<?php ob_start(); ?>language<?php echo ucfirst($this->v['this']->language->getLanguageCode()); ?>S.png<?php $_iconec266654fca036264110b63efea272d67dccfab7 = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_iconec266654fca036264110b63efea272d67dccfab7); ?>" alt="" />
												<select name="l">
													<?php echo $this->pluginObjects['TemplatePluginFunctionHtmloptions']->execute(array('options' => $this->v['this']->language->getLanguages(), 'selected' => $this->v['this']->language->getLanguageID(), 'disableEncoding' => true), $this); ?>
												</select>
											</label>
											<?php echo SID_INPUT_TAG; ?>
											<input type="image" class="inputImage" src="<?php echo StyleManager::getStyle()->getIconPath('submitS.png'); ?>" alt="Submit" />
										</div>
									</form>
								</noscript>
							</li>
						<?php } ?>
					<?php } ?>
				</ul>
			</div>
		</div>
	</div>

	<?php if ( ! $this->v['this']->user->userID &&  ! LOGIN_USE_CAPTCHA) { ?>
		<script type="text/javascript">
			//<![CDATA[
			document.observe("dom:loaded", function() {
				var loginFormVisible = false;

				var loginBox = $('quickLoginBox');
				var loginButton = $('loginButton');

				if (loginButton && loginBox) {
					function showLoginForm(evt) {
						if (loginBox.hasClassName('hidden')) {
							loginBox.setStyle('display: none');
							loginBox.removeClassName('hidden');
						}

						var top = (loginButton.cumulativeOffset()[1] + loginButton.getHeight() + 5);
						var left = loginButton.cumulativeOffset()[0] > $$('body')[0].getWidth()/2 ? loginButton.cumulativeOffset()[0] - loginBox.getWidth() + loginButton.getWidth() : loginButton.cumulativeOffset()[0];
						loginBox.setStyle('left: ' + left + 'px; top: ' + top + 'px;');
						if (loginBox.visible()) {
							new Effect.Parallel([
								new Effect.BlindUp(loginBox),
								new Effect.Fade(loginBox)
							], { duration: 0.3 });
							loginFormVisible = false;
						}
						else {
							new Effect.Parallel([
								new Effect.BlindDown(loginBox),
								new Effect.Appear(loginBox)
							], { duration: 0.3 });
							loginFormVisible = true;
						}
						evt.stop();
					}

					loginButton.observe('click', showLoginForm);
					loginButton.observe('dblclick', function() { document.location.href = fixURL('index.php?form=UserLogin<?php echo SID_ARG_2ND_NOT_ENCODED; ?>'); });

					document.getElementById('quickLoginUsername').onfocus = function() { if (this.value == 'Username') this.value=''; };
					document.getElementById('quickLoginUsername').onblur = function() { if (this.value == '') this.value = 'Username'; };
					$('loginButtonImage').src = $('loginButtonImage').src.gsub('loginS.png', 'loginOptionsS.png');
				}
			});
			//]]>
		</script>
	<?php } ?>

	<div id="header">

		

		<?php if ( ! isset($this->v['searchScript'])) { ?><?php $this->assign('searchScript', 'index.php?form=Search'); ?><?php } ?>
		<?php if ( ! isset($this->v['searchFieldName'])) { ?><?php $this->assign('searchFieldName', 'q'); ?><?php } ?>
		<?php if ( ! isset($this->v['searchFieldValue']) && isset($this->v['query'])) { ?><?php $this->assign('searchFieldValue', $this->v['query']); ?><?php } ?>
		<?php if ( ! isset($this->v['searchFieldTitle'])) { ?><?php $this->assign('searchFieldTitle', 'Enter search word'); ?><?php } ?>
		<?php if ( ! isset($this->v['searchFieldOptions'])) { ?>
			<?php ob_start(); ?>
				<li><a href="index.php?form=Search&amp;action=unread<?php echo SID_ARG_2ND; ?>">Unread posts</a></li>
				<li><a href="index.php?form=Search&amp;action=unreplied<?php echo SID_ARG_2ND; ?>">Unreplied threads</a></li>
				<li><a href="index.php?form=Search&amp;action=24h<?php echo SID_ARG_2ND; ?>">Threads of the last 24 hours</a></li>
				<?php if ($this->v['this']->user->userID) { ?><li><a href="index.php?form=Search&amp;action=newPostsSince&amp;since=<?php echo $this->v['this']->user->boardLastVisitTime; ?><?php echo SID_ARG_2ND; ?>">New posts since <?php echo $this->pluginObjects['TemplatePluginModifierShorttime']->execute(array($this->v['this']->user->boardLastVisitTime), $this); ?></a></li><?php } ?>
			<?php
$this->v['tpl']['capture']['default'] = ob_get_contents();
ob_end_clean();
$this->assign('searchFieldOptions', $this->v['tpl']['capture']['default']);
?>
		<?php } ?>
		<?php if ( ! isset($this->v['searchExtendedLink'])) { ?><?php $this->assign('searchExtendedLink', $this->pluginObjects['TemplatePluginModifierConcat']->execute(array('index.php?form=Search',SID_ARG_2ND), $this)); ?><?php } ?>
		<?php if ( ! isset($this->v['searchShowExtendedLink'])) { ?><?php $this->assign('searchShowExtendedLink', true); ?><?php } ?>

		<div id="search">
			<form method="post" action="<?php echo $this->v['searchScript']; ?>">

				<div class="searchContainer">
					<input type="text" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" id="searchInput" class="inputText" name="<?php echo $this->v['searchFieldName']; ?>" value="<?php if ( ! empty($this->v['searchFieldValue'])) { ?><?php echo StringUtil::encodeHTML($this->v['searchFieldValue']); ?><?php } else { ?><?php echo $this->v['searchFieldTitle']; ?><?php } ?>" />
					<input type="image" tabindex="<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('name' => 'tabindex'), $this); ?>" id="searchSubmit" class="searchSubmit inputImage" src="<?php echo StyleManager::getStyle()->getIconPath('searchSubmitS.png'); ?>" alt="Submit" />
					<?php echo SID_INPUT_TAG; ?>
					<?php if (isset($this->v['searchHiddenFields'])) { ?><?php echo $this->v['searchHiddenFields']; ?><?php } else { ?><input type="hidden" name="types[]" value="post" /><?php } ?>

					<script type="text/javascript">
						//<![CDATA[
						document.getElementById('searchInput').setAttribute('autocomplete', 'off');
						document.getElementById('searchInput').onfocus = function() { if (this.value == '<?php echo $this->v['searchFieldTitle']; ?>') this.value=''; };
						document.getElementById('searchInput').onblur = function() { if (this.value == '') this.value = '<?php echo $this->v['searchFieldTitle']; ?>'; };
						document.getElementById('searchSubmit').ondblclick = function() { window.location = fixURL('index.php?form=Search<?php echo SID_ARG_2ND_NOT_ENCODED; ?>'); };
						<?php if ($this->v['searchFieldOptions'] || $this->v['searchShowExtendedLink']) { ?>
							popupMenuList.register("searchInput");
							document.getElementById('searchInput').className += " searchOptions";
						<?php } ?>
						//]]>
					</script>
					<?php if ($this->v['searchFieldOptions'] || $this->v['searchShowExtendedLink']) { ?>
						<div class="searchInputMenu">
							<div class="hidden" id="searchInputMenu">
								<div class="pageMenu smallFont">
									<ul>
										<?php echo $this->v['searchFieldOptions']; ?>
										<?php if ($this->v['searchShowExtendedLink']) { ?><li><a href="<?php echo $this->v['searchExtendedLink']; ?><?php if ( ! empty($this->v['searchFieldValue'])) { ?>&amp;defaultQuery=<?php echo StringUtil::encodeHTML(rawurlencode($this->v['searchFieldValue'])); ?><?php } ?>">Advanced Search</a></li><?php } ?>
									</ul>
								</div>
							</div>
						</div>
					<?php } ?>

					<?php if ($this->v['searchShowExtendedLink']) { ?>
						<noscript>
							<p><a href="<?php echo $this->v['searchExtendedLink']; ?>">Advanced Search</a></p>
						</noscript>
					<?php } ?>
				</div>
			</form>
		</div>
		<div id="logo">
			<div class="logoInner">
				<h1 class="pageTitle"><a href="index.php?page=Index<?php echo SID_ARG_2ND; ?>"><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML(PAGE_TITLE); ?><?php $_lang5bbcdef12d7b87a2ffb33df89ed1dd3024e04dce = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang5bbcdef12d7b87a2ffb33df89ed1dd3024e04dce, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></a></h1>
				<?php if ($this->v['this']->getStyle()->getVariable('page.logo.image')) { ?>
					<a href="index.php?page=Index<?php echo SID_ARG_2ND; ?>" class="pageLogo">
						<img src="<?php echo StringUtil::encodeHTML($this->v['this']->getStyle()->getVariable('page.logo.image')); ?>" title="<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML(PAGE_TITLE); ?><?php $_lang51fa132594e9742324a66a9aaaf3fd008a9706ba = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang51fa132594e9742324a66a9aaaf3fd008a9706ba, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>" alt="" />
					</a>
				<?php } elseif ($this->v['this']->getStyle()->getVariable('page.logo.image.application.use') == 1) { ?>
					<a href="index.php?page=Index<?php echo SID_ARG_2ND; ?>" class="pageLogo">
						<img src="<?php echo RELATIVE_WBB_DIR; ?>images/wbb3-header-logo.png" title="<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML(PAGE_TITLE); ?><?php $_langfe12ea5e42d18e5e76dbb9f330318f83293ec047 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langfe12ea5e42d18e5e76dbb9f330318f83293ec047, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>" alt="" />
					</a>
				<?php } ?>
			</div>
		</div>
	</div>

	<?php
$outerTemplateName18b94aebdb2c0e10580b0668aa76628b59d3044a = $this->v['tpl']['template'];
$this->includeTemplate('headerMenu', array(), (1 ? 1 : 0));
$this->v['tpl']['template'] = $outerTemplateName18b94aebdb2c0e10580b0668aa76628b59d3044a;
$this->v['tpl']['includedTemplates']['headerMenu'] = 1;
?>


<?php ob_start(); ?>
	<?php if ($this->v['this']->user->userID) { ?>

		<?php if ($this->v['this']->user->activationCode && REGISTER_ACTIVATION_METHOD == 1) { ?><p class="warning">Your account is not activated yet. Please <a href="index.php?page=Register&amp;action=enable<?php echo SID_ARG_2ND; ?>">finish activation</a> first, to be able to use all features of this site.</p><?php } ?>

		<?php if ($this->v['this']->session->isNew) { ?><p class="info">Welcome back, <?php echo StringUtil::encodeHTML($this->v['this']->user->username); ?>! <a href="index.php?form=Search&amp;action=newPostsSince&amp;since=<?php echo $this->v['this']->user->boardLastActivityTime; ?><?php echo SID_ARG_2ND; ?>">Show new posts since your last visit (<?php echo $this->pluginObjects['TemplatePluginModifierTime']->execute(array($this->v['this']->user->boardLastActivityTime), $this); ?>).</a></p><?php } ?>

		<?php if (MODULE_PM == 1 && $this->v['this']->user->showPmPopup && $this->v['this']->user->pmOutstandingNotifications && count($this->v['this']->user->getOutstandingNotifications()) > 0) { ?>
			<div class="info deletable" id="pmOutstandingNotifications">
				<a href="index.php?page=PM&amp;action=disableNotifications&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" class="close deleteButton"><img src="<?php echo StyleManager::getStyle()->getIconPath('closeS.png'); ?>" alt="" title="Cancel notification" longdesc="" /></a>
				<p>You have <?php echo StringUtil::formatNumeric($this->v['this']->user->pmOutstandingNotifications); ?> unread private message<?php if ($this->v['this']->user->pmOutstandingNotifications > 1) { ?>s<?php } ?>:</p>
				<ul>
					<?php
if (count($this->v['this']->user->getOutstandingNotifications()) > 0) {
foreach ($this->v['this']->user->getOutstandingNotifications() as $this->v['outstandingNotification']) {
?>
						<li title="<?php echo StringUtil::encodeHTML($this->v['outstandingNotification']->getMessagePreview()); ?>">
							<a href="index.php?page=PMView&amp;pmID=<?php echo $this->v['outstandingNotification']->pmID; ?><?php echo SID_ARG_2ND; ?>#pm<?php echo $this->v['outstandingNotification']->pmID; ?>"><?php echo StringUtil::encodeHTML($this->v['outstandingNotification']->subject); ?></a>
							from

							<?php if ($this->v['outstandingNotification']->userID) { ?>
								<a href="index.php?page=User&amp;userID=<?php echo $this->v['outstandingNotification']->userID; ?><?php echo SID_ARG_2ND; ?>"><?php echo StringUtil::encodeHTML($this->v['outstandingNotification']->username); ?></a>
							<?php } elseif ($this->v['outstandingNotification']->username) { ?>
								<?php echo StringUtil::encodeHTML($this->v['outstandingNotification']->username); ?>
							<?php } else { ?>
								System
							<?php } ?>
						</li>
					<?php } } ?>
				</ul>
			</div>
		<?php } ?>

		<?php if ($this->v['this']->user->numberOfInvitations && count($this->v['this']->user->getInvitations())) { ?>
			<div class="info deletable" id="invitationContainer">
				<a href="index.php?action=WhiteListNotificationDisable&amp;ajax=1&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" class="close deleteButton"><img src="<?php echo StyleManager::getStyle()->getIconPath('closeS.png'); ?>" alt="" title="Cancel notification" longdesc="" /></a>
				<p><?php if (count($this->v['this']->user->getInvitations()) == 1) { ?>The following user would like to add you to his friends list:<?php } else { ?>The following users would like to add you to their friends list:<?php } ?></p>
				<ul class="itemList">
					<?php
if (count($this->v['this']->user->getInvitations()) > 0) {
foreach ($this->v['this']->user->getInvitations() as $this->v['member']) {
?>
						<li class="deletable">
							<div class="buttons">
								<a href="index.php?form=WhiteListEdit&amp;accept=<?php echo $this->v['member']->userID; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" class="deleteButton" title="Accept the friendship offer by this user"><img src="<?php echo StyleManager::getStyle()->getIconPath('checkS.png'); ?>" alt="Accept the friendship offer by this user" longdesc="Do you really want to accept the friendship offer by &quot;<?php echo StringUtil::encodeHTML($this->v['member']->username); ?>&quot;?" /></a>
								<a href="index.php?form=WhiteListEdit&amp;decline=<?php echo $this->v['member']->userID; ?>&amp;t=<?php echo SECURITY_TOKEN; ?><?php echo SID_ARG_2ND; ?>" class="deleteButton" title="Decline the friendship offer?"><img src="<?php echo StyleManager::getStyle()->getIconPath('deleteS.png'); ?>" alt="Decline the friendship offer?" longdesc="Do you really want to decline the friendship with &quot;<?php echo StringUtil::encodeHTML($this->v['member']->username); ?>&quot;?" /></a>
							</div>
							<p class="itemListTitle"><a href="index.php?page=User&amp;userID=<?php echo $this->v['member']->userID; ?><?php echo SID_ARG_2ND; ?>"><?php echo StringUtil::encodeHTML($this->v['member']->username); ?></a></p>
						</li>
					<?php } } ?>
				</ul>
			</div>
			<script type="text/javascript">
				//<![CDATA[
				document.observe('wcf:inlineDelete', function() {
					if ($('invitationContainer') && !$('invitationContainer').down('li')) {
						inlineDelete($('invitationContainer').down('.close'));
					}
				});
				//]]>
			</script>
		<?php } ?>

	<?php } elseif ( ! $this->v['this']->session->spiderID) { ?>

		<?php if ($this->v['this']->session->isNew) { ?><p class="info">Dear visitor, welcome to <?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML(PAGE_TITLE); ?><?php $_lang66e634a585f475d99ba1567dbc2ed7ce7e9c71da = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang66e634a585f475d99ba1567dbc2ed7ce7e9c71da, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>. 
If this is your first visit here, please <a href="index.php?page=Help<?php echo SID_ARG_2ND; ?>">read the Help</a>. It explains in detail how this page works. 
To use all features of this page, you should consider registering. 
Please use the <a href="index.php?page=Register<?php echo SID_ARG_2ND; ?>">registration form</a>, to register here or <a href="index.php?page=Help&amp;item=user.login<?php echo SID_ARG_2ND; ?>">read more information</a> about the registration process. 
If you are already registered, please <a href="index.php?form=UserLogin<?php echo SID_ARG_2ND; ?>">login here</a>.</p><?php } ?>

	<?php } ?>
	<?php if (OFFLINE == 1 && $this->v['this']->user->getPermission('user.board.canViewBoardOffline')) { ?>
		<div class="warning">
			The forums are currently offline<?php if (OFFLINE_MESSAGE != '') { ?> for the following reason(s):<?php } else { ?>.<?php } ?>
			<p><?php if (OFFLINE_MESSAGE_ALLOW_HTML) { ?><?php echo OFFLINE_MESSAGE; ?><?php } else { ?><?php echo $this->pluginObjects['TemplatePluginModifierNewlinetobreak']->execute(array(OFFLINE_MESSAGE), $this); ?><?php } ?></p>
		</div>
	<?php } ?>
<?php
$this->v['tpl']['capture']['default'] = ob_get_contents();
ob_end_clean();
$this->append('userMessages', $this->v['tpl']['capture']['default']);
?>
</div>
<div id="mainContainer">
<?php if (isset($this->v['additionalHeaderContents'])) { ?><?php echo $this->v['additionalHeaderContents']; ?><?php } ?>