<?php
/**
* WoltLab Community Framework
* Template: boardList
* Compiled at: Tue, 13 Aug 2013 11:36:42 +0000
* 
* DO NOT EDIT THIS FILE
*/
$this->v['tpl']['template'] = 'boardList';
?>
<?php
if (!isset($this->pluginObjects['TemplatePluginFunctionCycle'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginFunctionCycle.class.php');
$this->pluginObjects['TemplatePluginFunctionCycle'] = new TemplatePluginFunctionCycle;
}
if (!isset($this->pluginObjects['TemplatePluginFunctionCounter'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginFunctionCounter.class.php');
$this->pluginObjects['TemplatePluginFunctionCounter'] = new TemplatePluginFunctionCounter;
}
if (!isset($this->pluginObjects['TemplatePluginModifierShorttime'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginModifierShorttime.class.php');
$this->pluginObjects['TemplatePluginModifierShorttime'] = new TemplatePluginModifierShorttime;
}
if (!isset($this->pluginObjects['TemplatePluginModifierEncodejs'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginModifierEncodejs.class.php');
$this->pluginObjects['TemplatePluginModifierEncodejs'] = new TemplatePluginModifierEncodejs;
}
?><?php if (count($this->v['boards']) > 0) { ?>
	<script type="text/javascript" src="<?php echo RELATIVE_WBB_DIR; ?>js/BoardMarkAsRead.class.js"></script>
	<script type="text/javascript">
		//<![CDATA[
		var boards = new Hash();
		document.observe("dom:loaded", function() {
			new BoardMarkAsRead(boards);
		});
	//]]>
	</script>
	
	<?php echo $this->pluginObjects['TemplatePluginFunctionCycle']->execute(array('name' => 'boardlistCycle', 'values' => '1,2', 'advance' => false, 'print' => false), $this); ?>
	<ul id="boardlist">
		<?php
if (count($this->v['boards']) > 0) {
foreach ($this->v['boards'] as $this->v['child']) {
?>
			
			<?php $this->assign("depth", $this->v['child']['depth']); ?>
			<?php $this->assign("open", $this->v['child']['open']); ?>
			<?php $this->assign("hasChildren", $this->v['child']['hasChildren']); ?>
			<?php $this->assign("openParents", $this->v['child']['openParents']); ?>
			<?php $this->assign("board", $this->v['child']['board']); ?>
			<?php $this->assign("boardID", $this->v['board']->boardID); ?>
			<?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('assign' => 'boardNo', 'print' => false), $this); ?>
			<?php if ($this->v['board']->isBoard()) { ?>
				

				<li<?php if ($this->v['depth'] == 1) { ?> class="board border"<?php } ?>>
					<div class="boardlistInner container-<?php echo $this->pluginObjects['TemplatePluginFunctionCycle']->execute(array('name' => 'boardlistCycle'), $this); ?> board<?php echo $this->v['boardID']; ?>"<?php if ($this->v['board']->imageShowAsBackground) { ?><?php if ($this->v['board']->image || $this->v['newPosts'][$this->v['boardID']] && $this->v['board']->imageNew) { ?> style="background-image: url(<?php if ($this->v['newPosts'][$this->v['boardID']] && $this->v['board']->imageNew) { ?><?php echo StringUtil::encodeHTML($this->v['board']->imageNew); ?><?php } else { ?><?php echo StringUtil::encodeHTML($this->v['board']->image); ?><?php } ?>); background-repeat: <?php echo StringUtil::encodeHTML($this->v['board']->imageBackgroundRepeat); ?>"<?php } ?><?php } ?>>
						<div class="boardlistTitle<?php if (BOARD_LIST_ENABLE_LAST_POST && BOARD_LIST_ENABLE_STATS) { ?> boardlistCols-3<?php } else { ?><?php if (BOARD_LIST_ENABLE_LAST_POST || BOARD_LIST_ENABLE_STATS) { ?> boardlistCols-2<?php } ?><?php } ?>">
							<div class="containerIcon">
								<img id="boardIcon<?php echo $this->v['boardNo']; ?>" src="<?php if ($this->v['newPosts'][$this->v['boardID']] && $this->v['board']->imageNew &&  ! $this->v['board']->imageShowAsBackground) { ?><?php echo StringUtil::encodeHTML($this->v['board']->imageNew); ?><?php } elseif ($this->v['board']->image &&  ! $this->v['board']->imageShowAsBackground) { ?><?php echo StringUtil::encodeHTML($this->v['board']->image); ?><?php } else { ?><?php ob_start(); ?><?php echo $this->v['board']->getIconName(); ?><?php if ($this->v['newPosts'][$this->v['boardID']]) { ?>New<?php } ?>M.png<?php $_icon429edb06f3982819f3528444f1f71858182daad4 = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icon429edb06f3982819f3528444f1f71858182daad4); ?><?php } ?>" alt="" <?php if ($this->v['newPosts'][$this->v['boardID']]) { ?>title="Mark Forum as read by double click" <?php } ?>/>
							</div>
							
							<div class="containerContent">
								<?php if ($this->v['depth'] > 3) { ?><h6 class="boardTitle"><?php } else { ?><h<?php echo $this->v['depth']+2; ?> class="boardTitle"><?php } ?>
									<a id="boardLink<?php echo $this->v['boardNo']; ?>" <?php if ($this->v['newPosts'][$this->v['boardID']]) { ?>class="new" <?php } ?>href="index.php?page=Board&amp;boardID=<?php echo $this->v['boardID']; ?><?php echo SID_ARG_2ND; ?>"><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_lang62a18b7757a06091573fd4e9ba4b85a5af4795b9 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang62a18b7757a06091573fd4e9ba4b85a5af4795b9, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?><?php if (isset($this->v['unreadThreadsCount'][$this->v['boardID']])) { ?><span>&nbsp;(<?php echo StringUtil::formatNumeric($this->v['unreadThreadsCount'][$this->v['boardID']]); ?>)</span><?php } ?></a>
								<?php if ($this->v['depth'] > 3) { ?></h6><?php } else { ?></h<?php echo $this->v['depth']+2; ?>><?php } ?>
								<?php if ($this->v['newPosts'][$this->v['boardID']]) { ?>
									<script type="text/javascript">
										//<![CDATA[
										boards.set(<?php echo $this->v['boardNo']; ?>, {
											'boardNo': <?php echo $this->v['boardNo']; ?>,
											'boardID': <?php echo $this->v['boardID']; ?>,
											'icon': '<?php if ($this->v['board']->image &&  ! $this->v['board']->imageShowAsBackground) { ?><?php echo StringUtil::encodeHTML($this->v['board']->image); ?><?php } else { ?><?php ob_start(); ?><?php echo $this->v['board']->getIconName(); ?>M.png<?php $_icon2a9eaac328a7d0f42649772f460c3d4e9f46d298 = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icon2a9eaac328a7d0f42649772f460c3d4e9f46d298); ?><?php } ?>'
										});
										//]]>
									</script>
								<?php } ?>
								
								<?php if ($this->v['board']->description) { ?>
									<p class="boardlistDescription">
										<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php if ($this->v['board']->allowDescriptionHtml) { ?><?php echo $this->v['board']->description; ?><?php } else { ?><?php echo StringUtil::encodeHTML($this->v['board']->description); ?><?php } ?><?php $_langc9688286bf10f3f4a34744c04a5e4e87226a8505 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langc9688286bf10f3f4a34744c04a5e4e87226a8505, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>
									</p>
								<?php } ?>
								
								<?php if (isset($this->v['subBoards'][$this->v['boardID']])) { ?>
									<div class="boardlistSubboards">
										<ul><?php
$this->v['tpl']['foreach']['subBoards']['total'] = count($this->v['subBoards'][$this->v['boardID']]);
$this->v['tpl']['foreach']['subBoards']['show'] = ($this->v['tpl']['foreach']['subBoards']['total'] > 0 ? true : false);
$this->v['tpl']['foreach']['subBoards']['iteration'] = 0;
if (count($this->v['subBoards'][$this->v['boardID']]) > 0) {
foreach ($this->v['subBoards'][$this->v['boardID']] as $this->v['subBoard']) {
$this->v['tpl']['foreach']['subBoards']['first'] = ($this->v['tpl']['foreach']['subBoards']['iteration'] == 0 ? true : false);
$this->v['tpl']['foreach']['subBoards']['last'] = (($this->v['tpl']['foreach']['subBoards']['iteration'] == $this->v['tpl']['foreach']['subBoards']['total'] - 1) ? true : false);
$this->v['tpl']['foreach']['subBoards']['iteration']++;
?><?php $this->assign("subBoardID", $this->v['subBoard']->boardID); ?><?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('assign' => 'boardNo', 'print' => false), $this); ?><li<?php if ($this->v['tpl']['foreach']['subBoards']['last']) { ?> class="last"<?php } ?>><?php if ($this->v['depth'] > 4) { ?><h6><?php } else { ?><h<?php echo $this->v['depth']+3; ?>><?php } ?><img id="boardIcon<?php echo $this->v['boardNo']; ?>" src="<?php ob_start(); ?><?php if ($this->v['subBoard']->isBoard()) { ?>board<?php if ($this->v['newPosts'][$this->v['subBoardID']]) { ?>New<?php } ?><?php } elseif ($this->v['subBoard']->isCategory()) { ?>category<?php } else { ?>boardRedirect<?php } ?>S.png<?php $_icona249d665203d4592bc1f6f366ea694aa1a1f24dd = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icona249d665203d4592bc1f6f366ea694aa1a1f24dd); ?>" alt="" <?php if ($this->v['subBoard']->isBoard() && $this->v['newPosts'][$this->v['subBoardID']]) { ?>title="Mark Forum as read by double click" <?php } ?>/>&nbsp;<a id="boardLink<?php echo $this->v['boardNo']; ?>" <?php if ($this->v['newPosts'][$this->v['subBoardID']]) { ?>class="new" <?php } ?><?php if ($this->v['subBoard']->isExternalLink()) { ?>class="externalURL" <?php } ?>href="index.php?page=Board&amp;boardID=<?php echo $this->v['subBoardID']; ?><?php echo SID_ARG_2ND; ?>"><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['subBoard']->title); ?><?php $_lang4f6afbacd54e888555e344f40f51f2c5a9b3fb28 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang4f6afbacd54e888555e344f40f51f2c5a9b3fb28, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?><?php if (isset($this->v['unreadThreadsCount'][$this->v['subBoardID']])) { ?> <span>(<?php echo StringUtil::formatNumeric($this->v['unreadThreadsCount'][$this->v['subBoardID']]); ?>)</span><?php } ?></a><?php if ($this->v['depth'] > 4) { ?></h6><?php } else { ?></h<?php echo $this->v['depth']+3; ?>><?php } ?><?php if ($this->v['newPosts'][$this->v['subBoardID']]) { ?><script type="text/javascript">
														//<![CDATA[
														boards.set(<?php echo $this->v['boardNo']; ?>, {
															'boardNo': <?php echo $this->v['boardNo']; ?>,
															'boardID': <?php echo $this->v['subBoardID']; ?>,
															'icon': '<?php ob_start(); ?><?php echo $this->v['subBoard']->getIconName(); ?>S.png<?php $_icon9651460de4c0cb8e5a0fbd0708e0795b6130b374 = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icon9651460de4c0cb8e5a0fbd0708e0795b6130b374); ?>'
														});
														//]]>
													</script><?php } ?></li><?php } } ?></ul>
									</div>
								<?php } ?>
								
								<?php if (isset($this->v['boardUsersOnline'][$this->v['boardID']]['users']) || isset($this->v['boardUsersOnline'][$this->v['boardID']]['guests'])) { ?>
									<p class="boardlistUsersOnline">
										<img src="<?php echo StyleManager::getStyle()->getIconPath('usersS.png'); ?>" alt="" />
										<?php if (isset($this->v['boardUsersOnline'][$this->v['boardID']]['users'])) { ?>
											<?php
$_lengthe616989398bc2a848d2be9046f224f7887ce33ce = count($this->v['boardUsersOnline'][$this->v['boardID']]['users']);
$_ie616989398bc2a848d2be9046f224f7887ce33ce = 0;
foreach ($this->v['boardUsersOnline'][$this->v['boardID']]['users'] as $this->v['userOnline']) { ?><a href="index.php?page=User&amp;userID=<?php echo $this->v['userOnline']['userID']; ?><?php echo SID_ARG_2ND; ?>"><?php echo $this->v['userOnline']['username']; ?></a><?php
if (++$_ie616989398bc2a848d2be9046f224f7887ce33ce < $_lengthe616989398bc2a848d2be9046f224f7887ce33ce) { echo ', '; }
} ?>
										<?php } ?>
										<?php if (isset($this->v['boardUsersOnline'][$this->v['boardID']]['guests'])) { ?>
											<?php if (isset($this->v['boardUsersOnline'][$this->v['boardID']]['users'])) { ?>and<?php } ?> <?php echo StringUtil::encodeHTML($this->v['boardUsersOnline'][$this->v['boardID']]['guests']); ?> guests
										<?php } ?>
									</p>
								<?php } ?>
								
								<?php if (isset($this->v['moderators'][$this->v['boardID']])) { ?>
									<p class="moderators">
										<img src="<?php echo StyleManager::getStyle()->getIconPath('moderatorS.png'); ?>" alt="" />
										<?php
$_lengthc02702144ce272c6e123227b0327fa940557085d = count($this->v['moderators'][$this->v['boardID']]);
$_ic02702144ce272c6e123227b0327fa940557085d = 0;
foreach ($this->v['moderators'][$this->v['boardID']] as $this->v['moderator']) { ?><?php if ($this->v['moderator']->userID) { ?><a href="index.php?page=User&amp;userID=<?php echo $this->v['moderator']->userID; ?><?php echo SID_ARG_2ND; ?>"><?php echo StringUtil::encodeHTML($this->v['moderator']); ?></a><?php } else { ?><?php echo StringUtil::encodeHTML($this->v['moderator']); ?><?php } ?><?php
if (++$_ic02702144ce272c6e123227b0327fa940557085d < $_lengthc02702144ce272c6e123227b0327fa940557085d) { echo ', '; }
} ?>
									</p>
								<?php } ?>
								
								<?php if (isset($this->v['child']['additionalBoxes'])) { ?><?php echo $this->v['child']['additionalBoxes']; ?><?php } ?>
							</div>
						</div>
						
						<?php if (isset($this->v['lastPosts'][$this->v['boardID']])) { ?>
							<div class="boardlistLastPost">								
								<div class="containerIconSmall"><a href="index.php?page=Thread&amp;threadID=<?php echo $this->v['lastPosts'][$this->v['boardID']]->threadID; ?>&amp;action=firstNew<?php echo SID_ARG_2ND; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('goToFirstNewPostS.png'); ?>" alt="" title="Jump to the first unread post" /></a></div>
								<div class="containerContentSmall">
									<p>
										<span class="prefix"><strong><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['lastPosts'][$this->v['boardID']]->prefix); ?><?php $_lang4897ce580e73871344dfc31e7a5158dd79098878 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang4897ce580e73871344dfc31e7a5158dd79098878, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></strong></span>
										<a href="index.php?page=Thread&amp;threadID=<?php echo $this->v['lastPosts'][$this->v['boardID']]->threadID; ?>&amp;action=firstNew<?php echo SID_ARG_2ND; ?>"><?php echo StringUtil::encodeHTML($this->v['lastPosts'][$this->v['boardID']]->topic); ?></a>
									</p>
									<p>By
										<?php if ($this->v['lastPosts'][$this->v['boardID']]->lastPosterID != 0) { ?>
											<a href="index.php?page=User&amp;userID=<?php echo $this->v['lastPosts'][$this->v['boardID']]->lastPosterID; ?><?php echo SID_ARG_2ND; ?>"><?php echo StringUtil::encodeHTML($this->v['lastPosts'][$this->v['boardID']]->lastPoster); ?></a>
										<?php } else { ?>
											<?php echo StringUtil::encodeHTML($this->v['lastPosts'][$this->v['boardID']]->lastPoster); ?>
										<?php } ?>
										<span class="light">(<?php echo $this->pluginObjects['TemplatePluginModifierShorttime']->execute(array($this->v['lastPosts'][$this->v['boardID']]->lastPostTime), $this); ?>)</span>
									</p>
								</div>
							</div>
						<?php } ?>
						
						<?php if (isset($this->v['boardStats'][$this->v['boardID']])) { ?>
							<div class="boardlistStats">
								<dl>
									<dt><?php if ($this->v['boardStats'][$this->v['boardID']]['threads'] == 1) { ?>Thread<?php } else { ?>Threads<?php } ?></dt>
									<dd><?php echo StringUtil::formatNumeric($this->v['boardStats'][$this->v['boardID']]['threads']); ?></dd>
									<dt><?php if ($this->v['boardStats'][$this->v['boardID']]['posts'] == 1) { ?>Post<?php } else { ?>Posts<?php } ?></dt>
									<dd><?php echo StringUtil::formatNumeric($this->v['boardStats'][$this->v['boardID']]['posts']); ?></dd>
								</dl>
							</div>
						<?php } ?>
						<!--[if IE 7]><span> </span><![endif]-->
					</div>
			<?php } ?>
			
			<?php if ($this->v['board']->isCategory()) { ?>
				
				<?php echo $this->pluginObjects['TemplatePluginFunctionCycle']->execute(array('name' => 'boardlistCycle', 'advance' => false, 'print' => false, 'reset' => true), $this); ?>
				<li<?php if ($this->v['depth'] == 1) { ?> class="category border"<?php } ?>>
					<div class="containerHead boardlistInner board<?php echo $this->v['boardID']; ?>"<?php if ($this->v['board']->imageShowAsBackground) { ?><?php if ($this->v['board']->image || $this->v['newPosts'][$this->v['boardID']] && $this->v['board']->imageNew) { ?> style="background-image: url(<?php if ($this->v['newPosts'][$this->v['boardID']] && $this->v['board']->imageNew) { ?><?php echo StringUtil::encodeHTML($this->v['board']->imageNew); ?><?php } else { ?><?php echo StringUtil::encodeHTML($this->v['board']->image); ?><?php } ?>); background-repeat: <?php echo StringUtil::encodeHTML($this->v['board']->imageBackgroundRepeat); ?>"<?php } ?><?php } ?>>
						<div class="boardlistTitle">
							<div class="containerIcon">
								<?php if ($this->v['open']) { ?>
									<?php ob_start(); ?>Open Category &quot;<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_lange94f11d722f466047f30402bf53222f7dceef678 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lange94f11d722f466047f30402bf53222f7dceef678, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>&quot;<?php
$this->v['tpl']['capture']['default'] = ob_get_contents();
ob_end_clean();
$this->assign('showCategoryTitle', $this->v['tpl']['capture']['default']);
?>
									<?php ob_start(); ?>Close Category &quot;<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_langff13f87da445e5b2a805f4fae4ecfb0b393614d4 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langff13f87da445e5b2a805f4fae4ecfb0b393614d4, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>&quot;<?php
$this->v['tpl']['capture']['default'] = ob_get_contents();
ob_end_clean();
$this->assign('hideCategoryTitle', $this->v['tpl']['capture']['default']);
?>
									<a href="<?php echo StringUtil::encodeHTML($this->v['selfLink']); ?>&amp;closeCategory=<?php echo $this->v['boardID']; ?><?php echo SID_ARG_2ND; ?>#boardLink<?php echo $this->v['boardNo']; ?>" onclick="return !openList('category<?php echo $this->v['boardID']; ?>', { save: true, openTitle: '<?php echo $this->pluginObjects['TemplatePluginModifierEncodejs']->execute(array($this->v['showCategoryTitle']), $this); ?>', closeTitle: '<?php echo $this->pluginObjects['TemplatePluginModifierEncodejs']->execute(array($this->v['hideCategoryTitle']), $this); ?>' })"><img id="category<?php echo $this->v['boardID']; ?>Image" src="<?php echo StyleManager::getStyle()->getIconPath('minusS.png'); ?>" alt="" title="Close Category &quot;<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_lang0fae25fff6dfba91259f71b5877bb265fdb7985c = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang0fae25fff6dfba91259f71b5877bb265fdb7985c, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>&quot;" /></a>
								<?php } else { ?>
									<a href="<?php echo StringUtil::encodeHTML($this->v['selfLink']); ?>&amp;openCategory=<?php echo $this->v['boardID']; ?><?php echo SID_ARG_2ND; ?>#boardLink<?php echo $this->v['boardNo']; ?>"><img src="<?php echo StyleManager::getStyle()->getIconPath('plusS.png'); ?>" alt="" title="Open Category &quot;<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_lang00931898d6af781c4368c63877249be420a4c088 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang00931898d6af781c4368c63877249be420a4c088, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>&quot;" /></a>
								<?php } ?>
							</div>
							<div class="containerContent">
								<?php if ($this->v['depth'] > 3) { ?><h6 class="boardTitle"><?php } else { ?><h<?php echo $this->v['depth']+2; ?> class="boardTitle"><?php } ?>
									<a id="boardLink<?php echo $this->v['boardNo']; ?>" <?php if ($this->v['newPosts'][$this->v['boardID']]) { ?>class="new" <?php } ?>href="index.php?page=Board&amp;boardID=<?php echo $this->v['boardID']; ?><?php echo SID_ARG_2ND; ?>"><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_lang4bef56b22e8dfe6f98e9e595ae81ee45cabcfc1c = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang4bef56b22e8dfe6f98e9e595ae81ee45cabcfc1c, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?><?php if (isset($this->v['unreadThreadsCount'][$this->v['boardID']])) { ?> (<?php echo StringUtil::formatNumeric($this->v['unreadThreadsCount'][$this->v['boardID']]); ?>)<?php } ?></a>
								<?php if ($this->v['depth'] > 3) { ?></h6><?php } else { ?></h<?php echo $this->v['depth']+2; ?>><?php } ?>
								<?php if ($this->v['board']->description) { ?>
									<p class="boardlistDescription">
										<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php if ($this->v['board']->allowDescriptionHtml) { ?><?php echo $this->v['board']->description; ?><?php } else { ?><?php echo StringUtil::encodeHTML($this->v['board']->description); ?><?php } ?><?php $_langa75558abafb806f30cbf755ae3eaec824f553830 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langa75558abafb806f30cbf755ae3eaec824f553830, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>
									</p>
								<?php } ?>
								
								<?php if (isset($this->v['subBoards'][$this->v['boardID']])) { ?>
									<div class="boardlistSubboards">
										<ul><?php
$this->v['tpl']['foreach']['subBoards']['total'] = count($this->v['subBoards'][$this->v['boardID']]);
$this->v['tpl']['foreach']['subBoards']['show'] = ($this->v['tpl']['foreach']['subBoards']['total'] > 0 ? true : false);
$this->v['tpl']['foreach']['subBoards']['iteration'] = 0;
if (count($this->v['subBoards'][$this->v['boardID']]) > 0) {
foreach ($this->v['subBoards'][$this->v['boardID']] as $this->v['subBoard']) {
$this->v['tpl']['foreach']['subBoards']['first'] = ($this->v['tpl']['foreach']['subBoards']['iteration'] == 0 ? true : false);
$this->v['tpl']['foreach']['subBoards']['last'] = (($this->v['tpl']['foreach']['subBoards']['iteration'] == $this->v['tpl']['foreach']['subBoards']['total'] - 1) ? true : false);
$this->v['tpl']['foreach']['subBoards']['iteration']++;
?><?php $this->assign("subBoardID", $this->v['subBoard']->boardID); ?><?php echo $this->pluginObjects['TemplatePluginFunctionCounter']->execute(array('assign' => 'boardNo', 'print' => false), $this); ?><li<?php if ($this->v['tpl']['foreach']['subBoards']['last']) { ?> class="last"<?php } ?>><?php if ($this->v['depth'] > 4) { ?><h6><?php } else { ?><h<?php echo $this->v['depth']+3; ?>><?php } ?><img id="boardIcon<?php echo $this->v['boardNo']; ?>" src="<?php ob_start(); ?><?php if ($this->v['subBoard']->isBoard()) { ?>board<?php if ($this->v['newPosts'][$this->v['subBoardID']]) { ?>New<?php } ?><?php } elseif ($this->v['subBoard']->isCategory()) { ?>category<?php } else { ?>boardRedirect<?php } ?>S.png<?php $_iconcbff41b453659332618880662b4b1fd8b3683857 = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_iconcbff41b453659332618880662b4b1fd8b3683857); ?>" alt="" <?php if ($this->v['subBoard']->isBoard() && $this->v['newPosts'][$this->v['subBoardID']]) { ?>title="Mark Forum as read by double click" <?php } ?>/>&nbsp;<a id="boardLink<?php echo $this->v['boardNo']; ?>" <?php if ($this->v['newPosts'][$this->v['subBoardID']]) { ?>class="new" <?php } ?><?php if ($this->v['subBoard']->isExternalLink()) { ?>class="externalURL" <?php } ?>href="index.php?page=Board&amp;boardID=<?php echo $this->v['subBoardID']; ?><?php echo SID_ARG_2ND; ?>"><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['subBoard']->title); ?><?php $_langcf64e575b1a05ee73dab7822ef4e94b5a3c976bc = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_langcf64e575b1a05ee73dab7822ef4e94b5a3c976bc, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?><?php if (isset($this->v['unreadThreadsCount'][$this->v['subBoardID']])) { ?> <span>(<?php echo StringUtil::formatNumeric($this->v['unreadThreadsCount'][$this->v['subBoardID']]); ?>)</span><?php } ?></a><?php if ($this->v['depth'] > 4) { ?></h6><?php } else { ?></h<?php echo $this->v['depth']+3; ?>><?php } ?><?php if ($this->v['newPosts'][$this->v['subBoardID']]) { ?><script type="text/javascript">
															//<![CDATA[
															boards.set(<?php echo $this->v['boardNo']; ?>, {
																'boardNo': <?php echo $this->v['boardNo']; ?>,
																'boardID': <?php echo $this->v['subBoardID']; ?>,
																'icon': '<?php ob_start(); ?><?php echo $this->v['subBoard']->getIconName(); ?>S.png<?php $_icon37ef10f400cb2b7ce669e9677b6b27dad2689641 = ob_get_contents(); ob_end_clean(); echo StyleManager::getStyle()->getIconPath($_icon37ef10f400cb2b7ce669e9677b6b27dad2689641); ?>'
															});
															//]]>
														</script><?php } ?></li><?php } } ?></ul>
									</div>
								<?php } ?>
								
								<?php if (isset($this->v['child']['additionalBoxes'])) { ?><?php echo $this->v['child']['additionalBoxes']; ?><?php } ?>
							</div>
						</div>
					</div>
			<?php } ?>
			
			<?php if ($this->v['board']->isExternalLink()) { ?>	
				
				<li<?php if ($this->v['depth'] == 1) { ?> class="link border"<?php } ?>>
					<div class="container-<?php echo $this->pluginObjects['TemplatePluginFunctionCycle']->execute(array('name' => 'boardlistCycle'), $this); ?> boardlistInner board<?php echo $this->v['boardID']; ?>"<?php if ($this->v['board']->imageShowAsBackground && $this->v['board']->image) { ?> style="background-image: url(<?php echo StringUtil::encodeHTML($this->v['board']->image); ?>); background-repeat: <?php echo StringUtil::encodeHTML($this->v['board']->imageBackgroundRepeat); ?>"<?php } ?>>
						<div class="boardlistTitle<?php if (BOARD_LIST_ENABLE_LAST_POST && BOARD_LIST_ENABLE_STATS) { ?> boardlistCols-3<?php } else { ?><?php if (BOARD_LIST_ENABLE_LAST_POST || BOARD_LIST_ENABLE_STATS) { ?> boardlistCols-2<?php } ?><?php } ?>">
							<div class="containerIcon">
								<img src="<?php if ($this->v['board']->image &&  ! $this->v['board']->imageShowAsBackground) { ?><?php echo StringUtil::encodeHTML($this->v['board']->image); ?><?php } else { ?><?php echo StyleManager::getStyle()->getIconPath('boardRedirectM.png'); ?><?php } ?>" alt="" />
							</div>
							<div class="containerContent">
								<?php if ($this->v['depth'] > 3) { ?><h6 class="boardTitle"><?php } else { ?><h<?php echo $this->v['depth']+2; ?> class="boardTitle"><?php } ?>
									<a href="index.php?page=Board&amp;boardID=<?php echo $this->v['boardID']; ?><?php echo SID_ARG_2ND; ?>" class="externalURL"><?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php echo StringUtil::encodeHTML($this->v['board']->title); ?><?php $_lang0644bba00ef6843fd52349cbe50c103cd07cbb8c = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang0644bba00ef6843fd52349cbe50c103cd07cbb8c, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?></a>
								<?php if ($this->v['depth'] > 3) { ?></h6><?php } else { ?></h<?php echo $this->v['depth']+2; ?>><?php } ?>
								
								<?php if ($this->v['board']->description) { ?>
									<p class="boardlistDescription">
										<?php $this->tagStack[] = array('lang', array()); ob_start(); ?><?php if ($this->v['board']->allowDescriptionHtml) { ?><?php echo $this->v['board']->description; ?><?php } else { ?><?php echo StringUtil::encodeHTML($this->v['board']->description); ?><?php } ?><?php $_lang916a3a82fafec439cfc8434d7e306fadd8ffeae0 = ob_get_contents(); ob_end_clean(); echo WCF::getLanguage()->getDynamicVariable($_lang916a3a82fafec439cfc8434d7e306fadd8ffeae0, $this->tagStack[count($this->tagStack) - 1][1]); array_pop($this->tagStack); ?>
									</p>
								<?php } ?>
								
								<?php if (isset($this->v['child']['additionalBoxes'])) { ?><?php echo $this->v['child']['additionalBoxes']; ?><?php } ?>
							</div>
						</div>
						
						<?php if (isset($this->v['boardStats'][$this->v['boardID']])) { ?>
							<div class="boardlistStats">
								<dl>
									<dt>Hits</dt>
									<dd><?php echo StringUtil::formatNumeric($this->v['board']->getClicks()); ?></dd>
								</dl>
							</div>
						<?php } ?>
					</div>
			<?php } ?>
			
			<?php if ($this->v['hasChildren']) { ?><ul id="category<?php echo $this->v['boardID']; ?>"><?php } else { ?></li><?php } ?>
			<?php if ($this->v['openParents'] > 0) { ?><?php echo str_repeat("</ul></li>",$this->v['openParents']); ?><?php } ?>
		<?php } } ?>
	</ul>
<?php } ?>